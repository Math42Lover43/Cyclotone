<!DOCTYPE html>
<html>
<head>
<title>Cyclotone</title>
<meta charset="utf-8">
<style>
body,input,button { font-family: 'Roboto', 'Arial', sans-serif }
</style>
<body id="body">
<noscript>
	Warning: The calculator will not work with JavaScript disabled.
</noscript>
Factorize 10<sup><input type="number" id="config_exp" value="5"/></sup> - 1
<div id="debugger">
</div>
<button onclick="factorize(document.getElementById("config_exp").value);">Factorize</button>
<script>
	var ints = [];
	var numbers = "1";
	function add(x,y) {
		return (BigInt(x) + BigInt(y)).toString();
	}
	function subt(x,y) {
		return (BigInt(x) - BigInt(y)).toString();
	}
	function mult(x,y) {
		return (BigInt(x) * BigInt(y)).toString();
	}
	function div(x,y) {
		return (BigInt(x) / BigInt(y + y == "0")).toString();
	}
	function power(x,y) {
		return (BigInt(x) ** BigInt(y)).toString();
	}
	function mod(x,y) {
		return (BigInt(x) % BigInt(y)).toString();
	}
	function lt(x,y) {
		return (BigInt(x) < BigInt(y));
	}
	function polysubst(n,t) {
		var poly = "0";
		var k = "0"
		while(lt(k,n.length.toString())) {
			poly = add(poly,mult(n[k.toString()],power(t,k)));
			k = add(k,"1");
		}
		return poly;
	}
	function factord(x) {
		var factorlist = [];
		var i = "1";
		while(!lt(x,i)) {
			if(mod(x,i) == "0" && !factorlist.includes(i)) {
				factorlist.push(mult(i,add("1",mod(x,i))));
			}
			i = add(i,"1");
		}
		return factorlist;
	}
	function cyclotomics(x) {
		ints.push({"num":div("9","1"),"periods":[div("1","1")]});
		if (x != "1") {
			ints.push({"num":div(power("10",x),"9"),"periods":factor(x.toString())});
		}
	}
	function factorize(x) {
		ints = [subt(power("10",x.toString()),"1")];
		numbers = "0";
		var linears = factord(x.toString());
		var limit = polysubst(["2","6","2","1"],x.toString());
		var xx = "1";
		var n = 0;
		while(!lt(limit,xx)) {
			n = 0;
			while(lt(n,linears.length.toString())) {
				while(mod(ints[Number(numbers)],add(mult(linears[Number(n)],xx),"1")) == "0") { // mitigates powers
					ints[Number(subt(numbers,"1"))] = div(ints[Number(subt(numbers,"1"))],add(mult(linears[n.toString()],xx),"1"));
					ints.unshift(add(mult(linears[Number(n)],xx),"1"));
					numbers = add(numbers,"1");
				}
				n += 1;
			}
			xx = add(xx,"1");
		}
	}
	factorize(5);
</script>
</body>
</head>
</html>
