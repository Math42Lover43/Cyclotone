<!DOCTYPE html>
<html>
<head>
<title>Cyclotone</title>
<meta charset="utf-8">
<style>
body,input,button { font-family: 'Roboto', 'Arial', sans-serif }
</style>
<body id="body">
<noscript>
	Warning: The calculator will not work with JavaScript disabled.
</noscript>
Factorize 10<sup><input type="number" id="config_exp" value="5"/></sup> - 1
<div id="factorization">
</div>
<button onclick="factorize(document.getElementById("config_exp").value);">Factorize</button>
<script>
	var ints = [];
	function add(x,y) {
		return (BigInt(x) + BigInt(y));
	}
	function subt(x,y) {
		return (BigInt(x) - BigInt(y))
	}
	function mult(x,y) {
		return (BigInt(x) * BigInt(y))
	}
	function div(x,y) {
		if(y == "0") {
			return BigInt(x)
		}
		else {
			return (BigInt(x) / BigInt(y))
		}
	}
	function mod(x,y) {
		return BigInt(x) % BigInt(y);
	}
	function power(x,y) {
		return (BigInt(x) ** BigInt(y))
	}
	function lt(x,y) {
		return (BigInt(x) < BigInt(y));
	}
	function polysubst(n,t) {
		var poly = "0";
		var k = "0"
		while(lt(k,n.length.toString())) {
			poly = add(poly,mult(n[k.toString()],power(t,k)));
			k = add(k,"1");
		}
		return poly;
	}
	function factord(x) {
		var factorlist = [];
		var i = BigInt(1);
		while(i <= BigInt(x)) {
			if(BigInt(x) % i == BigInt(0) && !factorlist.includes(BigInt(i))) {
				factorlist.push(BigInt(i * (BigInt(1) + i % BigInt(2))));
				
			}
			i += BigInt(1);
		}
		return factorlist;
	}
	function cyclotomics(x) {
		ints.push({"num":div("9","1"),"periods":[div("1","1")]});
		if (x != "1") {
			ints.push({"num":div(power("10",x),"9"),"periods":factor(x.toString())});
		}
	}
	function updatemidfactor(t,dis) {
		var roots = [BigInt(t).toString()];
		var n = BigInt(0);
		while(n < BigInt(t.toString().length)) {
			roots.push((BigInt(roots[roots.length - 1]) / BigInt(2) / BigInt(dis) * BigInt(dis) + BigInt(1)).toString());
			n += BigInt(1);
		}
		return roots;
	}
	function factorize(x) {
		ints = [(BigInt(BigInt(10) ** BigInt(x.toString())) - BigInt(1)).toString()];
		var midtrialfactor = updatemidfactor(BigInt(ints[ints.length - 1],BigInt(x)));
		var lastmidmanip = false;
		var linears = factord(BigInt(x));
		var linear = BigInt(0); // mid number
		while(midtrialfactor.length < linears.length) {
			midtrialfactor.push(subt(power("10",x.toString()),"1"));
		}
		var xx = BigInt(1);
		var n = BigInt(0); // subtraction from mid
		var factored = false;
		while(!factored) { // By period
			while((BigInt(ints[ints.length - 1]) % BigInt(BigInt(x) * xx + BigInt(1))).toString() == "0") { // mitigates powers
				ints[ints.length - 1] = BigInt((BigInt(ints[ints.length - 1]) / (BigInt(x) * BigInt(xx) + BigInt(1)))).toString();
				ints.unshift((BigInt(x) * BigInt(xx) + BigInt(1)).toString());
				factored = true;
			}
			linear = BigInt(0); // linears
			xx += BigInt(1);
		}
	}
	factorize(5);
</script>
</body>
</head>
</html>
